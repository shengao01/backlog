<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>ECharts</title>
        <link rel="stylesheet" href="../libs/jquery/bootstrap/dist/css/bootstrap.css" type="text/css" />
        <!-- 引入 echarts.js -->
        <script src="../js/echarts.min.js"></script>
    </head>
    <body>
        <div>
            <div id="main2" style="width: 800px;height:500px;"></div>
            <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
            <script type="text/javascript">
                function load_main(chartarray) {	
					var myChart2 = echarts.init(document.getElementById('main2'));
					
					for(var i=0; i < chartarray.series.length; i++) {};
					
					var xAxis = chartarray.xAxis;
					var series = chartarray.series;
					//横向柱状图
					option = {
						title : {
							text: '高危主机告警'
						},
						grid:{
							x:80,
							x2:0,
							y:40,
							height:320
						}, 
						tooltip : {
							trigger: 'axis'
						},
						legend: {
							data:['告警数量'],
							orient: 'horizontal', 
							left: 'right', 
							top: 'top'
						},
						calculable : true,
						xAxis : [
							{
								type : 'category',
								data : xAxis,
								axisLabel:{  
									interval:0,  
									rotate:45,//倾斜度 -90 至 90 默认为0  
									margin:10,  
									textStyle:{  
										/*fontWeight:"bolder",  */
										color:"#000000"  
									}  
								}
							}
						],
						yAxis : [
							{
								type : 'value',
								axisLabel : {
									formatter: '{value} 次'
								}
							}
						],
						color:['#31bbcf','#ec6e79','#b9667a','#895a6d','#5c7c81','4e9db3'],
						series : [
									{
										name:'告警数量',
										type:'bar',
										barMaxWidth:60,//最大宽度
										data:series,
										markPoint : {
											data : [
												{type : 'max', name: '最大值'},
												{type : 'min', name: '最小值'}
											]
										},
										markLine : {
											data : [
												{type : 'average', name: '平均值'}
											]
										},
										itemStyle: {
										//柱形图圆角，鼠标移上去效果，如果只是一个数字则说明四个参数全部设置为那么多
											emphasis: {
												barBorderRadius: 30
											},

											normal: {
												//柱形图圆角，初始化效果
												barBorderRadius:[10, 10, 10, 10],
												label: {
													show: false,//true,//是否展示
													textStyle: {
														fontWeight:'bolder',
														fontSize : '12',
														fontFamily : '微软雅黑',
													}
												}
											}
										}
									}
								]
					};
					myChart2.setOption(option);
                }
				window.onload=function(){
					var chartData = {
						xAxis: ['WIN-J5Q8QGGNQFB1', 'WIN-J5Q8QGGNQFB2','WIN-J5Q8QGGNQFB3','WIN-J5Q8QGGNQFB4','WIN-J5Q8QGGNQFB5','WIN-J5Q8QGGNQFB6','WIN-J5Q8QGGNQFB7','WIN-J5Q8QGGNQFB8','WIN-J5Q8QGGNQFB9','WIN-J5Q8QGGNQFB10','WIN-J5Q8QGGNQFB11','WIN-J5Q8QGGNQFB12'],
						series: [18,88,69,74,36,44,45,69,72,22,33,45]
					};
					
					load_main(chartData);
				}
            </script>
        </div>
    </body>
</html>